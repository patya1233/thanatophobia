local OrionLib = loadstring(game:HttpGet(('https://raw.githubusercontent.com/shlexware/Orion/main/source')))()

local Window = OrionLib:MakeWindow({Name = "Fack HUB", HidePremium = false,  Introtext = "Fack HUB", SaveConfig = true, ConfigFolder = "Fack HUB"})

OrionLib:MakeNotification({
	Name = "hey",
	Content = "I thed it for the first just",
	Image = "rbxassetid://4483345998",
	TimeTime
	})

local fackTab = Window:MakeTab({
	Name = "Main",
	Icon = "rbxassetid://4483345998",
	PremiumOnly = false
	})

fackTab:AddButton({
	Name = "Brightness",
	Callback = function()
			-- สคริปต์นี้จะทำให้เห็นชัดในที่มืด (Fulbright)

local lighting = game:GetService("Lighting")

-- ตั้งค่าให้เป็น Fulbright
lighting.Ambient = Color3.fromRGB(255, 255, 255) -- ทำให้ทุกอย่างสว่าง
lighting.Brightness = 10 -- เพิ่มความสว่างโดยรวม
lighting.GlobalShadows = false -- ปิดเงาทั้งหมด
lighting.OutdoorAmbient = Color3.fromRGB(255, 255, 255) -- ทำให้ข้างนอกสว่าง

print("Fulbright mode activated")
  	end  
	})

local cTab = Window:MakeTab({
	Name = "book1 chapter1",
	Icon = "rbxassetid://4483345998",
	PremiumOnly = false
	})

local Section = cTab:AddSection({
	Name = "Part1"
})

cTab:AddButton({
	Name = "Auto Butterfly Collector",
	Callback = function()
local player = game.Players.LocalPlayer.Character.HumanoidRootPart
for i, v in pairs(game.workspace.CollectingBlocks:GetDescendants()) do
if v:IsA("MeshPart") then
local prox = v:FindFirstChildOfClass("ProximityPrompt")
player.CFrame = v.CFrame
if prox then
wait(0)
fireproximityprompt(prox)
wait(0.5)
end
end
end
        end  
	})

local Section = cTab:AddSection({
	Name = "ESP"
})

cTab:AddButton({
	Name = "esp item",
	Callback = function()
-- Function to create an ESP box
local function createESPBox(part, size)
    -- Remove existing ESP box if it exists
    if part:FindFirstChild("ESPBox") then
        part.ESPBox:Destroy()
    end

    -- Create a new ESP box
    local box = Instance.new("BoxHandleAdornment")
    box.Name = "ESPBox"
    box.Adornee = part
    box.AlwaysOnTop = true
    box.ZIndex = 10
    box.Size = size -- Vector3.new(x, y, z) ปรับขนาดตามที่ต้องการ
    box.Color3 = Color3.new(0, 1, 0) -- สีเขียว
    box.Transparency = 0.5 -- โปร่งใส 50%
    box.Parent = part
end

-- Get the CollectingBlocks from workspace
local collectingBlocks = workspace:FindFirstChild("CollectingBlocks")

-- Check if CollectingBlocks exists
if collectingBlocks then
    -- Loop through all the children in CollectingBlocks
    for _, child in pairs(collectingBlocks:GetChildren()) do
        -- Check if the child is named "Butterfly"
        if child.Name == "Butterfly" and child:IsA("BasePart") then
            -- Call the function to add the ESP box
            createESPBox(child, Vector3.new(2, 2, 2)) -- ปรับขนาดตามต้องการ
        end
    end
else
    warn("CollectingBlocks not found!")
end

local keys = {
    {name = "Key1G", displayName = "Key1"},
    {name = "Key2G", displayName = "Key2"},
    {name = "Key3G", displayName = "Key3"},
    {name = "Key4G", displayName = "Key4"}
}

for _, keyData in ipairs(keys) do
    local key = workspace:FindFirstChild(keyData.name)
    if key then
        -- ลบ Highlight เดิมถ้ามี
        local oldHighlight = key:FindFirstChildOfClass("Highlight")
        if oldHighlight then
            oldHighlight:Destroy()
        end

        -- สร้าง Highlight ใหม่
        local newHighlight = Instance.new("Highlight")
        newHighlight.FillTransparency = 0.5 -- โปร่งใส 50% ข้างใน
        newHighlight.OutlineColor = Color3.fromRGB(128, 0, 128) -- สีม่วงสำหรับเส้นขอบ
        newHighlight.OutlineTransparency = 0 -- ความทึบของเส้นขอบ (0 คือทึบ)
        newHighlight.FillColor = Color3.fromRGB(128, 0, 128) -- สีม่วงด้านใน แต่จะโปร่งใส
        newHighlight.Parent = key

        -- ลบ ESP Text เดิมถ้ามี
        local oldEsp = key:FindFirstChild("ESPText")
        if oldEsp then
            oldEsp:Destroy()
        end

        -- สร้าง BillboardGui ใหม่สำหรับ ESP Text
        local billboard = Instance.new("BillboardGui")
        billboard.Name = "ESPText"
        billboard.Size = UDim2.new(0, 25, 0, 25) -- ขนาดของกล่องข้อความ
        billboard.Adornee = key -- ติดที่วัตถุ Key
        billboard.AlwaysOnTop = true -- ให้มองเห็นตลอด
        billboard.StudsOffset = Vector3.new(0, 1, 0) -- ยกตำแหน่งขึ้นเล็กน้อย
        billboard.Parent = key

        -- สร้าง TextLabel เพื่อแสดงชื่อ
        local textLabel = Instance.new("TextLabel")
        textLabel.Size = UDim2.new(1, 0, 1, 0) -- ขนาดของข้อความใน BillboardGui
        textLabel.BackgroundTransparency = 1 -- พื้นหลังโปร่งใส
        textLabel.Text = keyData.displayName -- ตั้งชื่อ ESP ตามที่กำหนด
        textLabel.TextColor3 = Color3.fromRGB(255, 255, 255) -- สีขาว
        textLabel.TextScaled = true -- ขนาดข้อความปรับตามขนาดกล่อง
        textLabel.Parent = billboard
    end
end

local katanaNames = {"KATANA1", "KATANA2", "KATANA3", "KATANA4"}

for _, katanaName in ipairs(katanaNames) do
    local katana = workspace.KatanaPlacePuzzle.Items:FindFirstChild(katanaName)
    
    if katana then
        -- ลบ Highlights ที่มีอยู่แล้ว
        local oldHighlight = katana:FindFirstChildOfClass("Highlight")
        if oldHighlight then
            oldHighlight:Destroy()
        end
        
        -- สร้าง Highlight ใหม่
        local newHighlight = Instance.new("Highlight")
        newHighlight.Parent = katana
        newHighlight.FillColor = Color3.fromRGB(0, 255, 0) -- สีเขียว
        newHighlight.FillTransparency = 0.5 -- โปร่งใส 50%
        newHighlight.OutlineColor = Color3.fromRGB(0, 255, 0) -- สีขอบเขียว

        -- ลบ BillboardGui และ TextLabel ที่มีอยู่แล้ว
        local oldBillboard = katana:FindFirstChildOfClass("BillboardGui")
        if oldBillboard then
            oldBillboard:Destroy()
        end
        
        -- สร้าง BillboardGui ใหม่
        local billboardGui = Instance.new("BillboardGui")
        billboardGui.Parent = katana
        billboardGui.Adornee = katana
        billboardGui.Size = UDim2.new(0, 50, 0, 50)  -- ขนาดของกล่องข้อความ
        billboardGui.StudsOffset = Vector3.new(0, 2, 0)  -- ระยะห่างจากวัตถุ
        billboardGui.AlwaysOnTop = true  -- ทำให้มองทะลุกำแพง
        
        -- สร้าง TextLabel ใหม่
        local textLabel = Instance.new("TextLabel")
        textLabel.Parent = billboardGui
        textLabel.Size = UDim2.new(1, 0, 1, 0)
        textLabel.BackgroundTransparency = 1 -- พื้นหลังโปร่งใส
        textLabel.Text = katanaName -- ตั้งชื่อให้เป็นชื่อของไฟล์
        textLabel.TextColor3 = Color3.fromRGB(0, 255, 0) -- ข้อความสีเขียว
        textLabel.TextScaled = true -- ปรับขนาดข้อความตามกล่อง
    end
end
        end  
	})

cTab:AddButton({
	Name = "esp Monster",
	Callback = function()
local phantomKarina = workspace.Monsters:FindFirstChild("PhantomKarina")

if phantomKarina then
    -- ตรวจสอบและลบ Highlights ที่มีอยู่ก่อนแล้ว
    local existingHighlight = phantomKarina:FindFirstChildOfClass("Highlight")
    if existingHighlight then
        existingHighlight:Destroy()
    end

    -- เพิ่ม Highlight ใหม่
    local newHighlight = Instance.new("Highlight")
    newHighlight.Name = "PhantomKarinaHighlight"
    newHighlight.FillColor = Color3.fromRGB(255, 0, 0) -- สีแดง
    newHighlight.FillTransparency = 0.5 -- ความโปร่งใส 50%
    newHighlight.OutlineColor = Color3.fromRGB(255, 0, 0) -- เส้นขอบสีแดง
    newHighlight.Parent = phantomKarina
end
        end  
	})

local Section = cTab:AddSection({
	Name = "Part2"
})

cTab:AddButton({
	Name = "tp to exit",
	Callback = function()
game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(-333.023743, 4.00000095, 400.802979, -0.99936223, -3.88274728e-08, -0.0357087515, -3.76549387e-08, 1, -3.35085097e-08, 0.0357087515, -3.21425269e-08, -0.99936223)
        end  
	})

local Section = cTab:AddSection({
	Name = "ESP"
})

cTab:AddButton({
	Name = "esp Monster",
	Callback = function()
local phantomKarina = workspace.Monsters:FindFirstChild("GhostKarina")

if phantomKarina then
    -- ตรวจสอบและลบ Highlights ที่มีอยู่ก่อนแล้ว
    local existingHighlight = phantomKarina:FindFirstChildOfClass("Highlight")
    if existingHighlight then
        existingHighlight:Destroy()
    end

    -- เพิ่ม Highlight ใหม่
    local newHighlight = Instance.new("Highlight")
    newHighlight.Name = "PhantomKarinaHighlight"
    newHighlight.FillColor = Color3.fromRGB(255, 0, 0) -- สีแดง
    newHighlight.FillTransparency = 0.5 -- ความโปร่งใส 50%
    newHighlight.OutlineColor = Color3.fromRGB(255, 0, 0) -- เส้นขอบสีแดง
    newHighlight.Parent = phantomKarina
end
        end  
	})

local bTab = Window:MakeTab({
	Name = "book1 chapter2",
	Icon = "rbxassetid://4483345998",
	PremiumOnly = false
	})

local Section = bTab:AddSection({
	Name = "Part1"
})

bTab:AddButton({
	Name = "Auto Butterfly Collector",
	Callback = function()
local player = game.Players.LocalPlayer.Character.HumanoidRootPart
for i, v in pairs(game.workspace.CollectingBlocks:GetDescendants()) do
if v:IsA("MeshPart") then
local prox = v:FindFirstChildOfClass("ProximityPrompt")
player.CFrame = v.CFrame
if prox then
wait(0.2)
fireproximityprompt(prox)
wait(0.2)
end
end
end
wait(13)
game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(-713.5, 27.5, 947.5, 0, 0, -1, 0, 1, 0, 1, 0, 0)
        end  
	})

bTab:AddButton({
	Name = "auto run",
	Callback = function()
game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(824.5, 20.5, 469.5, 1, 0, 0, 0, 1, 0, 0, 0, 1)
        end  
	})

local Section = bTab:AddSection({
	Name = "ESP"
})

bTab:AddButton({
	Name = "esp item",
	Callback = function()
-- Function to create an ESP box
local function createESPBox(part, size)
    -- Remove existing ESP box if it exists
    if part:FindFirstChild("ESPBox") then
        part.ESPBox:Destroy()
    end

    -- Create a new ESP box
    local box = Instance.new("BoxHandleAdornment")
    box.Name = "ESPBox"
    box.Adornee = part
    box.AlwaysOnTop = true
    box.ZIndex = 10
    box.Size = size -- Vector3.new(x, y, z) ปรับขนาดตามที่ต้องการ
    box.Color3 = Color3.new(0, 1, 0) -- สีเขียว
    box.Transparency = 0.5 -- โปร่งใส 50%
    box.Parent = part
end

-- Get the CollectingBlocks from workspace
local collectingBlocks = workspace:FindFirstChild("CollectingBlocks")

-- Check if CollectingBlocks exists
if collectingBlocks then
    -- Loop through all the children in CollectingBlocks
    for _, child in pairs(collectingBlocks:GetChildren()) do
        -- Check if the child is named "Butterfly"
        if child.Name == "Butterfly" and child:IsA("BasePart") then
            -- Call the function to add the ESP box
            createESPBox(child, Vector3.new(2, 2, 2)) -- ปรับขนาดตามต้องการ
        end
    end
else
    warn("CollectingBlocks not found!")
end
        end  
	})

bTab:AddButton({
	Name = "esp Monster",
	Callback = function()
local phantomKarina = workspace.Monsters:FindFirstChild("CaveStalker")

if phantomKarina then
    -- ตรวจสอบและลบ Highlights ที่มีอยู่ก่อนแล้ว
    local existingHighlight = phantomKarina:FindFirstChildOfClass("Highlight")
    if existingHighlight then
        existingHighlight:Destroy()
    end

    -- เพิ่ม Highlight ใหม่
    local newHighlight = Instance.new("Highlight")
    newHighlight.Name = "PhantomKarinaHighlight"
    newHighlight.FillColor = Color3.fromRGB(255, 0, 0) -- สีแดง
    newHighlight.FillTransparency = 0.5 -- ความโปร่งใส 50%
    newHighlight.OutlineColor = Color3.fromRGB(255, 0, 0) -- เส้นขอบสีแดง
    newHighlight.Parent = phantomKarina
end
        end  
	})

local Section = bTab:AddSection({
	Name = "Part2"
})

bTab:AddButton({
	Name = "Auto Win",
	Callback = function()
game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(595.389465, 20.358448, 508.501465, -1, 0, 0, 0, 1, 0, 0, 0, -1)
wait()
-- สร้างตัวแปรสำหรับอ้างอิงไปยัง ProximityPrompt
local lights = {
    workspace.MainPuzzle.FireLights.PuzzleLight1,
    workspace.MainPuzzle.FireLights.PuzzleLight2,
    workspace.MainPuzzle.FireLights.PuzzleLight3,
    workspace.MainPuzzle.FireLights.PuzzleLight4,
    workspace.MainPuzzle.FireLights.PuzzleLight5,
    workspace.MainPuzzle.FireLights.PuzzleLight6,
}

-- ฟังก์ชันสำหรับปรับระยะเวลาการกดของ ProximityPrompt
local function adjustProximityPrompts()
    for _, light in ipairs(lights) do
        local proximityPrompt = light.LightPart:FindFirstChildOfClass("ProximityPrompt")
        if proximityPrompt then
            proximityPrompt.HoldDuration = 0 -- ปรับระยะเวลาการกดที่นี่
        end
    end
end

-- ฟังก์ชันสำหรับจำลองการกดค้าง
local function simulateInputHold()
    while true do
        for i = 1, 6 do
            local prompt = workspace.MainPuzzle.FireLights["PuzzleLight" .. i].LightPart.ProximityPrompt
            
            if prompt then
                prompt:InputHoldBegin()  -- จำลองการเริ่มการกด
                prompt:InputHoldEnd()    -- จำลองการกดค้างเสร็จสิ้น
            end
            
            wait() -- พักระหว่างการกดก่อนเริ่มใหม่
        end
    end
end

local player = game.Players.LocalPlayer
local camera = workspace.CurrentCamera

local lightsForTeleport = {
    workspace.MainPuzzle.FireLights.PuzzleLight1["Cube.024"],
    workspace.MainPuzzle.FireLights.PuzzleLight2["Cube.024"],
    workspace.MainPuzzle.FireLights.PuzzleLight3["Cube.024"],
    workspace.MainPuzzle.FireLights.PuzzleLight4["Cube.024"],
    workspace.MainPuzzle.FireLights.PuzzleLight5["Cube.024"],
    workspace.MainPuzzle.FireLights.PuzzleLight6["Cube.024"]
}

-- ฟังก์ชันเพื่อหาค่าตำแหน่ง ProximityPrompt ที่ใกล้ที่สุด
local function findClosestPrompt()
    local closestPrompt = nil
    local closestDistance = math.huge -- เริ่มต้นด้วยค่าระยะทางที่สูงสุด

    for i = 1, 6 do
        local puzzleLight = workspace.MainPuzzle.FireLights["PuzzleLight" .. i]
        local proximityPrompt = puzzleLight.LightPart:FindFirstChild("ProximityPrompt")

        if proximityPrompt then
            local distance = (player.Character.HumanoidRootPart.Position - proximityPrompt.Parent.Position).magnitude

            -- เช็คว่าตำแหน่งนี้ใกล้กว่าที่เรามีอยู่หรือไม่
            if distance < closestDistance then
                closestDistance = distance
                closestPrompt = proximityPrompt
            end
        end
    end

    return closestPrompt
end

-- ฟังก์ชันที่จะเปลี่ยนมุมกล้องไปหาตำแหน่งของ ProximityPrompt ที่ใกล้ที่สุด
local function lookAtClosestPrompt()
    local closestPrompt = findClosestPrompt()

    if closestPrompt then
        local targetPosition = closestPrompt.Parent.Position
        camera.CFrame = CFrame.new(camera.CFrame.Position, targetPosition) -- หันกล้องไปหาตำแหน่ง
    end
end

-- ฟังก์ชันที่จะวาปไปยัง Cube.024 ทั้งหมด
local function teleportToLights()
    for _, light in ipairs(lightsForTeleport) do
        if light then
            -- วาปไปที่ตำแหน่งของ Cube.024 แต่เพิ่ม Y ขึ้น 10 หน่วย
            local newCFrame = light.CFrame + Vector3.new(0, 10, 0)
            player.Character.HumanoidRootPart.CFrame = newCFrame
            wait(0.5)
            
            -- หันกล้องไปที่ ProximityPrompt ที่ใกล้ที่สุดหลังจากวาป
            lookAtClosestPrompt()
            wait(0.5) -- หยุดเวลาอีก 0.1 วินาทีก่อนที่จะทำซ้ำ
        end
    end
end

-- เริ่มการทำงานพร้อมกัน
task.spawn(adjustProximityPrompts)
task.spawn(simulateInputHold)
task.spawn(function()
    while true do
        teleportToLights()
        wait(2) -- รอ 2 วินาทีก่อนที่จะเริ่มวนซ้ำใหม่
    end
end)
        end  
	})

local Section = bTab:AddSection({
	Name = "Part3"
})

bTab:AddButton({
	Name = "Auto Butterfly Collector",
	Callback = function()
local function triggerProximityPrompts()
    while true do
        for i = 1, 4 do
            local proximityPrompt = workspace.CurseBurnPuzzle.Items["Cursed" .. i].ProximityPrompt
            proximityPrompt.HoldDuration = 0 -- ปรับระยะเวลาเป็น 0 วินาที
            proximityPrompt:InputHoldBegin() -- เริ่มการโต้ตอบ            
            proximityPrompt:InputHoldEnd() -- จบการโต้ตอบ
        end
        wait(0.5) -- รอ  วินาทีก่อนเริ่มลูปใหม่
    end
end

-- ฟังก์ชันสำหรับวาปไปยังตำแหน่งของ Cursed1 ถึง Cursed4
local function teleportToCursedItems()
    local player = game.Players.LocalPlayer -- เปลี่ยนเป็น game.Players.ServerPlayer ถ้าอยู่ในสคริปต์เซิร์ฟเวอร์
    local character = player.Character or player.CharacterAdded:Wait()
    local camera = game.Workspace.CurrentCamera

    -- รายการของ Cursed Items
    local cursedItems = {
        workspace.CurseBurnPuzzle.Items.Cursed1,
        workspace.CurseBurnPuzzle.Items.Cursed2,
        workspace.CurseBurnPuzzle.Items.Cursed3,
        workspace.CurseBurnPuzzle.Items.Cursed4
    }

    for _, item in ipairs(cursedItems) do
        -- เช็คว่ามีตำแหน่งของ item หรือไม่
        if item and item:IsA("BasePart") then
            -- วาปไปยังตำแหน่ง item โดยเพิ่มแกน Y ขึ้นไป 5 หน่วย
            local newCFrame = item.CFrame * CFrame.new(0, 8, 0)

            -- ตั้งค่า CFrame ของกล้องหันลง
            camera.CFrame = newCFrame * CFrame.Angles(math.rad(-90), 0, 0)

            -- วาปตัวละครไปยังตำแหน่ง item
            character:SetPrimaryPartCFrame(newCFrame)
            wait(0.5) -- รอ 0.5 วินาทีก่อนจะไปยัง item ถัดไป
        end
    end
end

-- จำลองการกด ProximityPrompt
local function simulatePromptPress()
    local player = game.Players.LocalPlayer
    local proximityPrompt = workspace.CurseBurnPuzzle.BurnTrigger.ProximityPrompt

    -- ตั้งค่า HoldDuration เป็น 0
    proximityPrompt.HoldDuration = 0

    while true do
        if proximityPrompt.Enabled then
            -- จำลองการกดปุ่ม
            proximityPrompt:InputHoldBegin() -- เริ่มการโต้ตอบ            
            proximityPrompt:InputHoldEnd() -- จบการโต้ตอบ
        end
        wait()  -- รอ  วินาทีก่อนทำงานอีกครั้ง
    end
end

-- เรียกใช้งานฟังก์ชันในเธรดแยก
game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(-1, 39, 347, 0, 0, 1, 0, 1, -0, -1, 0, 0)
wait()
task.spawn(triggerProximityPrompts)
task.spawn(teleportToCursedItems)
task.spawn(simulatePromptPress)
wait(2.5)
local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoidRootPart = character:WaitForChild("HumanoidRootPart")

-- กำหนด CFrame ที่ต้องการวาปไป
local targetCFrame = CFrame.new(-1.4683218, 41.3965836, 339.983795, -0.999480903, -9.52012513e-08, 0.0322163962, -9.56681845e-08, 1, -1.29523121e-08, -0.0322163962, -1.60276734e-08, -0.999480903)

-- วาปไปยัง CFrame ที่กำหนด
humanoidRootPart.CFrame = targetCFrame

-- ตั้งมุมกล้องหันลงพื้น
workspace.CurrentCamera.CFrame = CFrame.new(targetCFrame.Position, targetCFrame.Position - Vector3.new(0, 1, 0))
        end  
	})

bTab:AddButton({
	Name = "tp to exit(Beware of monsters)",
	Callback = function()
game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(-117.616135, 32, 241.515457, 0.0261901375, 3.07127013e-09, 0.999656975, -2.53002952e-09, 1, -3.00603942e-09, -0.999656975, -2.45043319e-09, 0.0261901375)
        end  
	})

local Section = bTab:AddSection({
	Name = "ESP"
})

bTab:AddButton({
	Name = "esp item",
	Callback = function()
local function createESPBox(part, size)
    local espBox = Instance.new("BoxHandleAdornment")
    espBox.Name = "ESPBox"
    espBox.Size = size or part.Size -- ใช้ขนาดที่กำหนดหรือขนาดเดิม
    espBox.Adornee = part
    espBox.Color3 = Color3.fromRGB(0, 255, 0) -- สีเขียว
    espBox.Transparency = 0.5 -- โปร่งใส 50%
    espBox.ZIndex = 10 -- จัดอันดับการแสดงผล
    espBox.AlwaysOnTop = true
    espBox.Parent = part
end

local function updateESP(size)
    for i = 1, 4 do
        local cursedItem = workspace.CurseBurnPuzzle.Items["Cursed" .. i]
        
        if cursedItem then
            -- ลบ ESP Box ที่มีอยู่แล้ว
            local existingESP = cursedItem:FindFirstChild("ESPBox")
            if existingESP then
                existingESP:Destroy()
            end
            
            -- เพิ่ม ESP Box ใหม่
            createESPBox(cursedItem, size)
        end
    end
end

-- ปรับขนาดของ ESP Box ที่ต้องการ
local desiredSize = Vector3.new(2, 2, 2) -- เปลี่ยนเป็นขนาดที่ต้องการ
updateESP(desiredSize)
        end  
	})

bTab:AddButton({
	Name = "esp Monster",
	Callback = function()
local monsters = workspace.Monsters

for _, model in ipairs(monsters:GetChildren()) do
    if model:IsA("Model") then
        -- ลบ Highlight ที่มีอยู่แล้ว
        local existingHighlight = model:FindFirstChildOfClass("Highlight")
        if existingHighlight then
            existingHighlight:Destroy()
        end
        
        -- สร้าง Highlight ใหม่
        local highlight = Instance.new("Highlight")
        highlight.Parent = model
        highlight.OutlineColor = Color3.fromRGB(255, 0, 0) -- สีแดง
        highlight.FillColor = Color3.fromRGB(255, 0, 0) -- สีแดง
        highlight.FillTransparency = 0.5 -- โปร่งใส 50%
    end
end
        end  
	})

local Section = bTab:AddSection({
	Name = "Part4"
})

bTab:AddButton({
	Name = "Auto Win",
	Callback = function()
local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local doorFrame = workspace.ExitDoor.DoorFrame

-- วาร์ปตัวละครไปยังตำแหน่งของ DoorFrame
character:SetPrimaryPartCFrame(doorFrame.CFrame)
        end  
	})

local Section = bTab:AddSection({
	Name = "ESP"
})

bTab:AddButton({
	Name = "esp item",
	Callback = function()
local pickaxes = {workspace.PickaxePuzzle.Items.Pickaxe1, workspace.PickaxePuzzle.Items.Pickaxe2, workspace.PickaxePuzzle.Items.Pickaxe3, workspace.PickaxePuzzle.Items.Pickaxe4}

local function addESPBox(object, size)
    -- ตรวจสอบว่ามี ESP Box อันเดิมอยู่หรือไม่ ถ้ามีก็ลบทิ้ง
    if object:FindFirstChild("ESPBox") then
        object:FindFirstChild("ESPBox"):Destroy()
    end
    
    -- สร้าง BoxHandleAdornment สำหรับ ESP Box
    local espBox = Instance.new("BoxHandleAdornment")
    espBox.Name = "ESPBox"
    espBox.Adornee = object  -- ระบุว่าวัตถุไหนที่กล่องจะถูกเพิ่มไปที่
    espBox.Size = size  -- ขนาดของกล่อง ESP (รับจากพารามิเตอร์ size)
    espBox.Color3 = Color3.new(0, 1, 0)  -- สีเขียว
    espBox.Transparency = 0.5  -- โปร่งใส 50%
    espBox.ZIndex = 0  -- ทำให้กล่องอยู่ข้างหลัง
    espBox.AlwaysOnTop = true  -- แสดง ESP Box ตลอดเวลา
    espBox.Parent = object  -- เพิ่ม ESP Box เข้าไปใน Pickaxe
end

-- ขนาดที่ต้องการสำหรับ ESP Box (สามารถปรับเปลี่ยนได้)
local customSize = Vector3.new(3, 3, 3)

-- เรียกใช้ฟังก์ชันเพิ่ม ESP Box ให้กับ Pickaxe ทั้ง 4 อัน โดยส่งขนาดที่ต้องการ
for _, pickaxe in pairs(pickaxes) do
    addESPBox(pickaxe, customSize)
end
        end  
	})

bTab:AddButton({
	Name = "esp Monster",
	Callback = function()
local monsters = workspace.Monsters

for _, model in ipairs(monsters:GetChildren()) do
    if model:IsA("Model") then
        -- ลบ Highlight ที่มีอยู่แล้ว
        local existingHighlight = model:FindFirstChildOfClass("Highlight")
        if existingHighlight then
            existingHighlight:Destroy()
        end
        
        -- สร้าง Highlight ใหม่
        local highlight = Instance.new("Highlight")
        highlight.Parent = model
        highlight.OutlineColor = Color3.fromRGB(255, 0, 0) -- สีแดง
        highlight.FillColor = Color3.fromRGB(255, 0, 0) -- สีแดง
        highlight.FillTransparency = 0.5 -- โปร่งใส 50%
    end
end
        end  
	})

local Section = bTab:AddSection({
	Name = "Part5"
})

bTab:AddButton({
	Name = "Auto Win",
	Callback = function()
game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(-15.5, 26, -268.899963, -1, 0, 0, 0, 1, 0, 0, 0, -1)
        end  
	})

bTab:AddButton({
	Name = "esp item",
	Callback = function()
local key1g = workspace.KeyStuff.Key1.Key1G

-- ตรวจสอบและลบ Highlight เก่า (ถ้ามี)
if key1g:FindFirstChildOfClass("Highlight") then
    key1g:FindFirstChildOfClass("Highlight"):Destroy()
end

-- สร้าง Highlight ใหม่
local highlight = Instance.new("Highlight")
highlight.Adornee = key1g
highlight.FillColor = Color3.fromRGB(0, 255, 0) -- สีเขียว
highlight.FillTransparency = 0.5 -- ความโปร่งใส 50%
highlight.OutlineColor = Color3.fromRGB(0, 255, 0) -- เส้นขอบสีเขียว

-- เพิ่ม Highlight ไปยัง Key1G
highlight.Parent = key1g

-- ตรวจสอบและลบ ESP (BillboardGui) เก่า (ถ้ามี)
if key1g:FindFirstChild("ESPText") then
    key1g:FindFirstChild("ESPText"):Destroy()
end

-- สร้าง BillboardGui เพื่อใช้แสดง ESP Text
local billboardGui = Instance.new("BillboardGui")
billboardGui.Name = "ESPText"
billboardGui.Adornee = key1g
billboardGui.Size = UDim2.new(0, 25, 0, 25)
billboardGui.StudsOffset = Vector3.new(0, 1, 0) -- ระยะห่างจาก object
billboardGui.AlwaysOnTop = true

-- สร้าง TextLabel เพื่อแสดงชื่อ "Key1"
local textLabel = Instance.new("TextLabel")
textLabel.Size = UDim2.new(1, 0, 1, 0)
textLabel.Text = "Key1"
textLabel.TextColor3 = Color3.fromRGB(0, 255, 0) -- สีเขียว
textLabel.BackgroundTransparency = 1 -- ไม่มีพื้นหลัง
textLabel.TextScaled = true -- ปรับขนาดอัตโนมัติ

-- เพิ่ม TextLabel ไปที่ BillboardGui
textLabel.Parent = billboardGui

-- เพิ่ม BillboardGui ไปยัง Key1G
billboardGui.Parent = key1g

local codeNote = workspace.CodeStuff.CodeNote

-- ฟังก์ชันเพื่อลบ Highlight และ ESP Text เก่า
local function removeOldElements()
    for _, child in ipairs(codeNote:GetChildren()) do
        if child:IsA("Highlight") then
            child:Destroy()
        elseif child:IsA("BillboardGui") and child.Name == "ESP" then
            child:Destroy()
        end
    end
end

-- ฟังก์ชันเพื่อตั้งค่า Highlight ใหม่
local function addNewHighlight()
    local highlight = Instance.new("Highlight")
    highlight.Name = "Highlight"
    highlight.Parent = codeNote
    highlight.FillColor = Color3.fromRGB(0, 255, 0) -- สีเขียว
    highlight.FillTransparency = 0.5 -- โปร่งใส 50%
    highlight.OutlineColor = Color3.fromRGB(0, 128, 0) -- สีเขียวเข้มสำหรับเส้นขอบ
end

-- ฟังก์ชันเพื่อตั้งค่า ESP Text ใหม่
local function addNewESP()
    local espGui = Instance.new("BillboardGui")
    espGui.Name = "ESP"
    espGui.Adornee = codeNote
    espGui.Size = UDim2.new(0, 25, 1, 25)
    espGui.StudsOffset = Vector3.new(0, 2, 0) -- ปรับตำแหน่งให้สูงขึ้น
    espGui.AlwaysOnTop = true -- ตั้งค่าให้ ESP อยู่ด้านบนเสมอ

    local textLabel = Instance.new("TextLabel")
    textLabel.Size = UDim2.new(1, 0, 1, 0)
    textLabel.Text = "Code"
    textLabel.TextColor3 = Color3.fromRGB(0, 255, 0) -- สีเขียว
    textLabel.BackgroundTransparency = 1 -- โปร่งใส
    textLabel.TextScaled = true -- ขยายข้อความให้เต็มพื้นที่

    -- นำ TextLabel ใส่ใน BillboardGui
    textLabel.Parent = espGui
    espGui.Parent = codeNote
end

-- เรียกใช้ฟังก์ชัน
removeOldElements()
addNewHighlight()
addNewESP()
        end  
	})

local aTab = Window:MakeTab({
	Name = "book1 chapter3",
	Icon = "rbxassetid://4483345998",
	PremiumOnly = false
	})

local Section = aTab:AddSection({
	Name = "Part1"
})

aTab:AddButton({
	Name = "Auto Butterfly Collector",
	Callback = function()
local player = game.Players.LocalPlayer.Character.HumanoidRootPart
for i, v in pairs(game.workspace.CollectingBlocks:GetDescendants()) do
if v:IsA("MeshPart") then
local prox = v:FindFirstChildOfClass("ProximityPrompt")
player.CFrame = v.CFrame
if prox then
wait(0.2)
fireproximityprompt(prox)
wait(0.2)
end
end
end
        end  
	})

aTab:AddButton({
	Name = "Auto Gem Collector",
	Callback = function()
local prompts = {
    workspace.GemPlacePuzzle.Items.BLUEGEM.ProximityPrompt,
    workspace.GemPlacePuzzle.Items.GREENGEM.ProximityPrompt,
    workspace.GemPlacePuzzle.Items.REDGEM.ProximityPrompt,
    workspace.GemPlacePuzzle.Items.YELLOWGEM.ProximityPrompt,
}

-- ปรับระยะเวลาการกดของ ProximityPrompt ทุกอันเป็น 0 วินาที
for _, prompt in ipairs(prompts) do
    prompt.HoldDuration = 0 -- ตั้งระยะเวลาการกดเป็น 0 วินาที
end

-- ฟังก์ชันสำหรับจำลองการกด
local function simulateHold(prompt)
    prompt:InputHoldBegin() -- เริ่มการเก็บ
    
    prompt:InputHoldEnd() -- สิ้นสุดการเก็บ
end

-- ฟังก์ชันสำหรับการจำลองการกด
local function holdPrompts()
    -- วนลูปไม่สิ้นสุด
    while true do
        for _, prompt in ipairs(prompts) do
            simulateHold(prompt) -- เรียกใช้งานการจำลองการกดสำหรับแต่ละอัญมณี
        end
        wait() -- รอ 1 วินาทีก่อนที่จะเริ่มใหม่เพื่อหลีกเลี่ยงการทำงานเร็วเกินไป
    end
end

-- เริ่มต้นการทำงานของฟังก์ชัน holdPrompts ในเธรดแยก
task.spawn(holdPrompts)

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local camera = game.Workspace.CurrentCamera -- เข้าถึงกล้องปัจจุบัน

-- ฟังก์ชันสำหรับการวาร์ปไปยังอัญมณีที่ระบุพร้อมทั้งมองไปที่อัญมณี
local function teleportAndLookAtGem(gemName)
    local gem = workspace.GemPlacePuzzle.Items:FindFirstChild(gemName)
    if gem then
        local newCFrame = gem.CFrame + Vector3.new(0, 2, -6) -- เพิ่มความสูง 2 หน่วย
        character:SetPrimaryPartCFrame(newCFrame)

        -- หันกล้องไปที่อัญมณี
        camera.CFrame = CFrame.new(newCFrame.Position + Vector3.new(0, 2, -5), newCFrame.Position) -- หันไปที่อัญมณี
    else
        warn(gemName .. " not found!")
    end
end

-- วาร์ปไปยังอัญมณีที่แตกต่างและมองไปที่มัน
teleportAndLookAtGem("BLUEGEM")
wait(0.5) -- รอ 1 วินาทีเพื่อให้เห็นการวาร์ป
teleportAndLookAtGem("GREENGEM")
wait(0.5)
teleportAndLookAtGem("REDGEM")
wait(0.5)
teleportAndLookAtGem("YELLOWGEM")
wait(2.5)
game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(379.585968, 422.999969, 45.5686951, 0.00450586155, -4.63511363e-08, 0.999989867, -2.32169146e-08, 1, 4.64562184e-08, -0.999989867, -2.34260042e-08, 0.00450586155)
        end  
	})

local Section = aTab:AddSection({
	Name = "ESP"
})

aTab:AddButton({
	Name = "esp item",
	Callback = function()
-- Function to create an ESP box
local function createESPBox(part, size)
    -- Remove existing ESP box if it exists
    if part:FindFirstChild("ESPBox") then
        part.ESPBox:Destroy()
    end

    -- Create a new ESP box
    local box = Instance.new("BoxHandleAdornment")
    box.Name = "ESPBox"
    box.Adornee = part
    box.AlwaysOnTop = true
    box.ZIndex = 10
    box.Size = size -- Vector3.new(x, y, z) ปรับขนาดตามที่ต้องการ
    box.Color3 = Color3.new(0, 1, 0) -- สีเขียว
    box.Transparency = 0.5 -- โปร่งใส 50%
    box.Parent = part
end

-- Get the CollectingBlocks from workspace
local collectingBlocks = workspace:FindFirstChild("CollectingBlocks")

-- Check if CollectingBlocks exists
if collectingBlocks then
    -- Loop through all the children in CollectingBlocks
    for _, child in pairs(collectingBlocks:GetChildren()) do
        -- Check if the child is named "Butterfly"
        if child.Name == "Butterfly" and child:IsA("BasePart") then
            -- Call the function to add the ESP box
            createESPBox(child, Vector3.new(2, 2, 2)) -- ปรับขนาดตามต้องการ
        end
    end
else
    warn("CollectingBlocks not found!")
end

-- ฟังก์ชันที่ใช้สร้าง ESP Box
local function createESPBox(part, color)
    -- ถ้ามี Adornment อันเดิมอยู่ ให้ลบทิ้งก่อน
    if part:FindFirstChild("ESPBox") then
        part.ESPBox:Destroy()
    end

    -- สร้าง BoxHandleAdornment ใหม่
    local espBox = Instance.new("BoxHandleAdornment")
    espBox.Name = "ESPBox"
    espBox.Adornee = part
    espBox.Size = part.Size + Vector3.new(3, 3, 3) -- ขนาดเล็กกว่าของเดิมเล็กน้อย
    espBox.Color3 = color
    espBox.Transparency = 0.5 -- โปร่งใส 50%
    espBox.ZIndex = 0
    espBox.AlwaysOnTop = true
    espBox.Parent = part
end

-- สีที่กำหนดสำหรับแต่ละประเภท
local gemColors = {
    BLUEGEM = Color3.fromRGB(0, 0, 255),
    GREENGEM = Color3.fromRGB(0, 255, 0),
    REDGEM = Color3.fromRGB(255, 0, 0),
    YELLOWGEM = Color3.fromRGB(255, 255, 0),
}

-- วนลูปใน Items
for _, item in pairs(workspace.GemPlacePuzzle.Items:GetChildren()) do
    -- ตรวจสอบว่าชื่อของวัตถุตรงกับอัญมณีหรือไม่
    local gemColor = gemColors[item.Name]
    if gemColor then
        createESPBox(item, gemColor)
    end
end
        end  
	})

aTab:AddButton({
	Name = "esp Monster",
	Callback = function()
local monster = workspace.Monster["Tenticle Monster"]

-- ฟังก์ชันสำหรับลบ Highlight เก่า
local function removeOldHighlight()
    for _, child in ipairs(monster:GetChildren()) do
        if child:IsA("Highlight") then
            child:Destroy()
        end
    end
end

-- ฟังก์ชันสำหรับเพิ่ม Highlight ใหม่
local function addHighlight()
    removeOldHighlight() -- ลบ Highlight เก่า

    local highlight = Instance.new("Highlight") -- สร้าง Highlight ใหม่
    highlight.Parent = monster -- เพิ่ม Highlight ไปที่ Monster
    highlight.OutlineColor = Color3.fromRGB(255, 0, 0) -- เส้นขอบสีแดง
    highlight.FillColor = Color3.fromRGB(255, 0, 0) -- สีภายในเป็นสีแดง
    highlight.FillTransparency = 0.5 -- โปร่งใส 50%
end

addHighlight() -- เรียกใช้ฟังก์ชันเพื่อเพิ่ม Highlight
        end  
	})

local Section = aTab:AddSection({
	Name = "Part2"
})

aTab:AddButton({
	Name = "Auto win",
	Callback = function()
local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local exitTrigger = workspace.GameInfo.ExitTrigger

-- ตรวจสอบว่า ExitTrigger มีอยู่จริง
if exitTrigger then
    -- ปรับตำแหน่งถอยหลังนิดหน่อย (แกน Z)
    local newCFrame = exitTrigger.CFrame * CFrame.new(-3, 0, 0)
    
    -- เปลี่ยนตำแหน่งผู้เล่นไปยังตำแหน่งที่ถอยหลังจาก ExitTrigger
    character:SetPrimaryPartCFrame(newCFrame)
else
    warn("ExitTrigger ไม่พบใน Workspace")
end
        end  
	})

local Section = aTab:AddSection({
	Name = "ESP"
})

aTab:AddButton({
	Name = "esp item",
	Callback = function()
local candles = workspace.CandlePuzzle.Candles

-- ฟังก์ชันสำหรับลบ ESP Box อันเดิม
local function removeOldESP(model)
    for _, child in pairs(model:GetChildren()) do
        if child:IsA("BoxHandleAdornment") then
            child:Destroy()
        end
    end
end

-- ฟังก์ชันสำหรับเพิ่ม ESP Box
local function addESP(model)
    -- ลบ ESP Box อันเดิม
    removeOldESP(model)

    -- สร้าง ESP Box ใหม่
    local espBox = Instance.new("BoxHandleAdornment")
    espBox.Adornee = model -- กำหนดเป้าหมายเป็น Model
    espBox.Size = model:GetExtentsSize() -- ขนาดตาม Model
    espBox.Color3 = Color3.new(0, 1, 0) -- สีเขียว
    espBox.Transparency = 0.5 -- โปร่งใส 50%
    espBox.AlwaysOnTop = true -- ให้กล่องแสดงตลอด
    espBox.ZIndex = 0
    espBox.Parent = model
end

-- เพิ่ม ESP Box ให้กับทุก Model ใน Candles
for _, model in pairs(candles:GetChildren()) do
    if model:IsA("Model") then
        addESP(model)
    end
end
        end  
	})

aTab:AddButton({
	Name = "esp Monster",
	Callback = function()
local monsters = workspace.Monsters

for _, model in ipairs(monsters:GetChildren()) do
    if model:IsA("Model") then
        -- ลบ Highlight ที่มีอยู่แล้ว
        local existingHighlight = model:FindFirstChildOfClass("Highlight")
        if existingHighlight then
            existingHighlight:Destroy()
        end
        
        -- สร้าง Highlight ใหม่
        local highlight = Instance.new("Highlight")
        highlight.Parent = model
        highlight.OutlineColor = Color3.fromRGB(255, 0, 0) -- สีแดง
        highlight.FillColor = Color3.fromRGB(255, 0, 0) -- สีแดง
        highlight.FillTransparency = 0.5 -- โปร่งใส 50%
    end
end
        end  
	})

local Section = aTab:AddSection({
	Name = "Part3"
})

aTab:AddButton({
	Name = "Auto pull lever",
	Callback = function()
game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(165.589478, 8.35844994, -158.301468, -1, 0, 0, 0, 1, 0, 0, 0, -1)
wait()
game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(167.189499, 8.35845947, -159.300919, -1, 0, 0, 0, 1, 0, 0, 0, -1)
wait()
game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(167.189499, 8.35845947, -160.300919, -1, 0, 0, 0, 1, 0, 0, 0, -1)
wait()
local levers = {
    workspace.SkullPlacePuzzle.FirstPart.BlackLever.Lever1.ProximityPrompt,
    workspace.SkullPlacePuzzle.FirstPart.GreenLever.Lever1.ProximityPrompt,
    workspace.SkullPlacePuzzle.FirstPart.PinkLever.Lever1.ProximityPrompt,
    workspace.SkullPlacePuzzle.FirstPart.WhiteLever.Lever1.ProximityPrompt
}

local ProximityPromptService = game:GetService("ProximityPromptService")

-- ฟังก์ชันสำหรับการกด Lever
local function pressLevers()
    while true do
        for _, prompt in ipairs(levers) do
            prompt.HoldDuration = 0
            prompt:InputHoldBegin()
            
            prompt:InputHoldEnd()
        end
        wait() -- รอระยะเวลาก่อนวนซ้ำอีกรอบ
    end
end

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local camera = workspace.CurrentCamera -- เข้าถึงกล้อง

-- ฟังก์ชันสำหรับลบบล็อกชื่อ "fack" หากมีอยู่
local function removeOldBlock()
    local oldBlock = workspace:FindFirstChild("fack")
    if oldBlock then
        oldBlock:Destroy() -- ลบบล็อกเก่า
    end
end

-- ฟังก์ชันวาร์ปไปยังตำแหน่งของ Lever แล้วถอยหลังเล็กน้อย
local function teleportToLever(lever)
    if character and character:FindFirstChild("HumanoidRootPart") then
        local targetPart = lever.PrimaryPart or lever:FindFirstChildWhichIsA("BasePart")
        if targetPart then
            character.HumanoidRootPart.CFrame = targetPart.CFrame * CFrame.new(5, 0, 0)
            camera.CFrame = CFrame.new(targetPart.Position + Vector3.new(0, 5, 0), targetPart.Position)

            removeOldBlock()

            local block = Instance.new("Part")
            block.Name = "fack" -- ตั้งชื่อบล็อกเป็น "fack"
            block.Size = Vector3.new(4, 1, 4) -- ขนาดของบล็อก
            block.Position = character.HumanoidRootPart.Position - Vector3.new(0, 3, 0) -- ให้บล็อกอยู่ใต้ผู้เล่น
            block.Anchored = true -- ป้องกันไม่ให้บล็อกเคลื่อนที่
            block.Parent = workspace -- เพิ่มบล็อกลงใน workspace

            character.HumanoidRootPart.CFrame = block.CFrame * CFrame.new(0, 1, 0) -- ปรับตำแหน่งให้ยืนบนบล็อก
        else
            warn("No valid part found in lever: " .. lever.Name)
        end
    end
end

-- รายชื่อ Lever ที่ต้องวาร์ปไป
local leversToTeleport = {
    workspace.SkullPlacePuzzle.FirstPart.BlackLever,
    workspace.SkullPlacePuzzle.FirstPart.GreenLever,
    workspace.SkullPlacePuzzle.FirstPart.PinkLever,
    workspace.SkullPlacePuzzle.FirstPart.WhiteLever
}

-- ฟังก์ชันสำหรับการวาร์ปไปยังแต่ละ Lever
local function teleportToLevers()
    for _, lever in ipairs(leversToTeleport) do
        teleportToLever(lever)
        wait(0.5)  -- รอ 0.5 วินาทีก่อนการวาร์ปไป Lever ถัดไป
    end
end

-- สร้าง coroutine เพื่อให้ทั้งสองฟังก์ชันทำงานพร้อมกัน
coroutine.wrap(pressLevers)()
coroutine.wrap(teleportToLevers)()
wait(2.5)
game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(163.963791, 3.99999952, -163.084808, 0.999253511, -7.43797344e-08, -0.0386318341, 7.53854152e-08, 1, 2.45758311e-08, 0.0386318341, -2.74697634e-08, 0.999253511)
        end  
	})

aTab:AddButton({
	Name = "Auto skull collector",
	Callback = function()
local prompts = {
    workspace.Monsters.BlackEmperor.Skull.ProximityPrompt,
    workspace.Monsters.GreenEmperor.Skull.ProximityPrompt,
    workspace.Monsters.PinkEmperor.Skull.ProximityPrompt,
    workspace.Monsters.WhiteEmperor.Skull.ProximityPrompt
}

-- ฟังก์ชันสำหรับปรับตั้งค่าทุก ProximityPrompt และจำลองการกด
local function setupProximityPrompts()
    while true do
        for _, prompt in ipairs(prompts) do
            -- ปรับระยะเวลาการกด, ระยะการกด และให้สามารถกดทะลุได้
            prompt.HoldDuration = 0
            prompt.MaxActivationDistance = 100
            prompt.RequiresLineOfSight = false

            -- จำลองการกด ProximityPrompt
            prompt:InputHoldBegin()  -- เริ่มการกด
            wait(prompt.HoldDuration)  -- รอเวลาตามที่ตั้งค่าไว้ (ในกรณีนี้คือ 0 วินาที)
            prompt:InputHoldEnd()  -- จบการกด
        end
        wait()  -- รอ 1 วินาทีก่อนเริ่มวนลูปใหม่
    end
end

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local camera = game.Workspace.CurrentCamera

-- การกำหนดตำแหน่งของมอนสเตอร์แต่ละตัว
local blackEmperor = workspace.Monsters.BlackEmperor
local greenEmperor = workspace.Monsters.GreenEmperor
local pinkEmperor = workspace.Monsters.PinkEmperor
local whiteEmperor = workspace.Monsters.WhiteEmperor

-- ฟังก์ชันวาปไปยังมอนสเตอร์ที่เลือก
local function teleportTo(monster)
    if monster and monster:FindFirstChild("HumanoidRootPart") then
        -- วาปตัวละครไปยังตำแหน่งมอนสเตอร์
        local targetCFrame = monster.HumanoidRootPart.CFrame * CFrame.new(0, 13.5, 0)
        character:SetPrimaryPartCFrame(targetCFrame)

        -- ปรับมุมกล้องให้หันลงพื้นก่อน
        local cameraPosition = targetCFrame.p + Vector3.new(0, 10, 0) -- ตำแหน่งกล้องอยู่เหนือมอนสเตอร์
        local lookAt = targetCFrame.p -- ให้กล้องหันไปที่ตำแหน่งมอนสเตอร์
        camera.CFrame = CFrame.new(cameraPosition, lookAt)

        -- รอสักครู่แล้วหันไปข้างหน้าในทิศทางที่ตัวละครหัน
        wait(0.5)
        local forwardDirection = targetCFrame.LookVector -- ทิศทางข้างหน้าที่ตัวละครหัน
        local newCameraPosition = cameraPosition + forwardDirection * 10 -- กล้องหันไปข้างหน้าห่างออกไป 10 หน่วย
        camera.CFrame = CFrame.new(cameraPosition, newCameraPosition)
    else
        warn("Monster or HumanoidRootPart not found")
    end
end

-- ฟังก์ชันสำหรับวาปไปยังมอนสเตอร์แต่ละตัว
local function teleportToMonsters()
    teleportTo(blackEmperor)
    wait(0.5)
    teleportTo(greenEmperor)
    wait(0.5)
    teleportTo(pinkEmperor)
    wait(0.5)
    teleportTo(whiteEmperor)
end

-- เริ่มต้นการทำงานพร้อมกัน
coroutine.wrap(setupProximityPrompts)()  -- เริ่มทำงานที่ ProximityPrompt
coroutine.wrap(teleportToMonsters)()    -- เริ่มทำงานที่การวาปไปยังมอนสเตอร์
wait(4.5)
game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(163.963791, 3.99999952, -163.084808, 0.999253511, -7.43797344e-08, -0.0386318341, 7.53854152e-08, 1, 2.45758311e-08, 0.0386318341, -2.74697634e-08, 0.999253511)
        end  
	})

local Section = aTab:AddSection({
	Name = "ESP"
})

aTab:AddButton({
	Name = "esp item",
	Callback = function()
-- ฟังก์ชันสำหรับเพิ่ม Highlight
local function addHighlight(lever)
    -- ตรวจสอบว่ามี Highlight เดิมอยู่หรือไม่ ถ้ามีก็ลบทิ้ง
    if lever:FindFirstChildOfClass("Highlight") then
        lever:FindFirstChildOfClass("Highlight"):Destroy()
    end
    
    -- สร้าง Highlight ใหม่
    local highlight = Instance.new("Highlight")
    highlight.Parent = lever
    highlight.FillColor = Color3.fromRGB(0, 255, 0) -- สีเขียวข้างใน
    highlight.FillTransparency = 0.5 -- ความโปร่งใส 50%
    highlight.OutlineColor = Color3.fromRGB(0, 255, 0) -- สีขอบสีเขียว
end

-- ฟังก์ชันสำหรับสร้าง ESP (ข้อความลอย)
local function addESP(lever)
    -- ตรวจสอบว่ามี ESP เดิมอยู่หรือไม่ ถ้ามีก็ลบทิ้ง
    local existingESP = lever:FindFirstChild("ESP")
    if existingESP then
        existingESP:Destroy()
    end

    -- สร้าง BillboardGui สำหรับ ESP
    local billboard = Instance.new("BillboardGui")
    billboard.Name = "ESP"
    billboard.Adornee = lever
    billboard.Size = UDim2.new(0, 25, 0, 25) -- ขนาดของ GUI
    billboard.StudsOffset = Vector3.new(0, 5, 0) -- ยกขึ้นจากวัตถุ
    billboard.AlwaysOnTop = true
    billboard.Parent = lever

    -- สร้างข้อความ (TextLabel) ใน ESP
    local textLabel = Instance.new("TextLabel")
    textLabel.Text = "Lever"
    textLabel.TextColor3 = Color3.fromRGB(0, 255, 0) -- สีเขียว
    textLabel.BackgroundTransparency = 1 -- โปร่งใสพื้นหลัง
    textLabel.Size = UDim2.new(1, 0, 1, 0) -- ขนาดของข้อความ
    textLabel.TextScaled = true -- ขยายข้อความตามขนาด
    textLabel.Parent = billboard
end

-- ฟังก์ชันสำหรับเพิ่ม Highlight และ ESP
local function addHighlightAndESP(lever)
    addHighlight(lever)
    addESP(lever)
end

-- เพิ่ม Highlight และ ESP ให้กับ Lever ที่ระบุ
addHighlightAndESP(workspace.SkullPlacePuzzle.FirstPart.BlackLever)
addHighlightAndESP(workspace.SkullPlacePuzzle.FirstPart.GreenLever)
addHighlightAndESP(workspace.SkullPlacePuzzle.FirstPart.PinkLever)
addHighlightAndESP(workspace.SkullPlacePuzzle.FirstPart.WhiteLever)
        end  
	})

aTab:AddButton({
	Name = "esp Monster",
	Callback = function()
local monsters = workspace.Monsters

for _, model in ipairs(monsters:GetChildren()) do
    if model:IsA("Model") then
        -- ลบ Highlight ที่มีอยู่แล้ว
        local existingHighlight = model:FindFirstChildOfClass("Highlight")
        if existingHighlight then
            existingHighlight:Destroy()
        end
        
        -- สร้าง Highlight ใหม่
        local highlight = Instance.new("Highlight")
        highlight.Parent = model
        highlight.OutlineColor = Color3.fromRGB(255, 0, 0) -- สีแดง
        highlight.FillColor = Color3.fromRGB(255, 0, 0) -- สีแดง
        highlight.FillTransparency = 0.5 -- โปร่งใส 50%
    end
end

-- ฟังก์ชันสำหรับการสร้าง ESP Text
function createESPText(monster, text, textColor)
    -- ตรวจสอบว่า ESP Text อันเก่ามีหรือไม่ ถ้ามีลบทิ้ง
    if monster:FindFirstChild("ESPText") then
        monster.ESPText:Destroy()
    end

    -- สร้าง BillboardGui สำหรับ ESP Text
    local esp = Instance.new("BillboardGui")
    esp.Name = "ESPText"
    esp.Adornee = monster:FindFirstChild("Head") or monster:FindFirstChild("HumanoidRootPart")
    esp.Size = UDim2.new(0, 25, 0, 25)
    esp.StudsOffset = Vector3.new(0, 2, 0)
    esp.AlwaysOnTop = true

    -- สร้าง TextLabel สำหรับแสดงข้อความ
    local textLabel = Instance.new("TextLabel", esp)
    textLabel.Size = UDim2.new(1, 0, 1, 0)
    textLabel.BackgroundTransparency = 1
    textLabel.Text = text
    textLabel.TextColor3 = textColor -- เปลี่ยนสีข้อความที่นี่
    textLabel.TextScaled = true

    -- นำ BillboardGui ไปใส่ใน Monster
    esp.Parent = monster
end

-- สร้าง ESP Text ให้กับ BlackEmperor
createESPText(workspace.Monsters.BlackEmperor, "Black", Color3.fromRGB(255, 255, 255)) -- ข้อความสีขาว

-- สร้าง ESP Text ให้กับ GreenEmperor
createESPText(workspace.Monsters.GreenEmperor, "Green", Color3.fromRGB(255, 255, 255)) -- ข้อความสีขาว

-- สร้าง ESP Text ให้กับ PinkEmperor
createESPText(workspace.Monsters.PinkEmperor, "Pink", Color3.fromRGB(255, 255, 255)) -- ข้อความสีขาว

-- สร้าง ESP Text ให้กับ WhiteEmperor
createESPText(workspace.Monsters.WhiteEmperor, "White", Color3.fromRGB(255, 255, 255)) -- ข้อความสีขาว
        end  
	})

local Section = aTab:AddSection({
	Name = "Part4"
})

aTab:AddButton({
	Name = "Auto Win",
	Callback = function()
game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(-275.100006, 9.5, -207, -1, 0, 0, 0, 1, 0, 0, 0, -1)
        end  
	})

local Section = aTab:AddSection({
	Name = "ESP"
})

aTab:AddButton({
	Name = "esp item",
	Callback = function()
-- Function สำหรับเพิ่ม Highlights
local function addHighlight(part)
    -- ถ้ามี Highlights อยู่แล้ว ให้ลบออกก่อน
    if part:FindFirstChildOfClass("Highlight") then
        part:FindFirstChildOfClass("Highlight"):Destroy()
    end

    -- สร้าง Highlights ใหม่
    local highlight = Instance.new("Highlight")
    highlight.Parent = part
    highlight.FillColor = Color3.new(0, 1, 0)  -- สีเขียวข้างใน
    highlight.FillTransparency = 0.5  -- โปร่งใส 50%
    highlight.OutlineColor = Color3.new(0, 1, 0)  -- เส้นขอบสีเขียว
end

-- Function สำหรับเพิ่ม ESP text
local function addEspText(part, displayName)
    -- ถ้ามี ESP (BillboardGui) อยู่แล้ว ให้ลบออกก่อน
    if part:FindFirstChild("ESP") then
        part:FindFirstChild("ESP"):Destroy()
    end

    -- สร้าง BillboardGui ใหม่
    local billboardGui = Instance.new("BillboardGui")
    billboardGui.Name = "ESP"
    billboardGui.Size = UDim2.new(0, 25, 0, 25)  -- ขนาดของ Gui
    billboardGui.StudsOffset = Vector3.new(0, 2, 0)  -- ยกให้สูงขึ้นเหนือวัตถุ
    billboardGui.AlwaysOnTop = true
    billboardGui.Parent = part

    -- สร้าง TextLabel สำหรับแสดงชื่อ
    local textLabel = Instance.new("TextLabel")
    textLabel.Text = displayName  -- ชื่อที่จะให้แสดง
    textLabel.TextColor3 = Color3.new(0, 1, 0)  -- สีเขียว
    textLabel.BackgroundTransparency = 1  -- พื้นหลังโปร่งใส
    textLabel.Size = UDim2.new(1, 0, 1, 0)
    textLabel.Parent = billboardGui
end

-- ฟังก์ชันหลักสำหรับเพิ่ม Highlight และ ESP text
local function addHighlightAndEsp(part, displayName)
    addHighlight(part)  -- เพิ่ม Highlight
    addEspText(part, displayName)  -- เพิ่ม ESP text
end

-- เพิ่ม Highlight และ ESP ให้กับ Key1G ถึง Key4G
addHighlightAndEsp(workspace.KeyRoomSector.Key1G, "Key1")
addHighlightAndEsp(workspace.KeyRoomSector.Key2G, "Key2")
addHighlightAndEsp(workspace.KeyRoomSector.Key3G, "Key3")
addHighlightAndEsp(workspace.KeyRoomSector.Key4G, "Key4")

local levers = {"Lever1", "Lever2", "Lever3", "Lever4", "Lever5"}

for _, leverName in ipairs(levers) do
    local lever = workspace.LeverPuzzle:FindFirstChild(leverName)

    if lever then
        -- ลบ Highlights อันเดิมถ้ามี
        local oldHighlight = lever:FindFirstChildOfClass("Highlight")
        if oldHighlight then
            oldHighlight:Destroy()
        end

        -- สร้าง Highlights ใหม่
        local newHighlight = Instance.new("Highlight")
        newHighlight.Parent = lever
        newHighlight.FillColor = Color3.new(0, 1, 0) -- สีเขียว
        newHighlight.FillTransparency = 0.5 -- ความโปร่งใส 50%
        newHighlight.OutlineColor = Color3.new(0, 1, 0) -- สีขอบเขียว

        -- ลบ BillboardGui อันเดิมถ้ามี
        local oldBillboard = lever:FindFirstChildOfClass("BillboardGui")
        if oldBillboard then
            oldBillboard:Destroy()
        end

        -- สร้าง BillboardGui ใหม่
        local billboardGui = Instance.new("BillboardGui")
        billboardGui.Parent = lever
        billboardGui.Adornee = lever
        billboardGui.Size = UDim2.new(0, 25, 0, 25)
        billboardGui.StudsOffset = Vector3.new(0, 2, 0)
        billboardGui.AlwaysOnTop = true

        -- สร้าง TextLabel เพื่อแสดงชื่อ Lever
        local textLabel = Instance.new("TextLabel")
        textLabel.Parent = billboardGui
        textLabel.Size = UDim2.new(1, 0, 1, 0)
        textLabel.BackgroundTransparency = 1
        textLabel.Text = leverName
        textLabel.TextColor3 = Color3.new(0, 1, 0) -- สีเขียว
        textLabel.TextScaled = true
        textLabel.Font = Enum.Font.SourceSansBold
    end
end

-- สร้างฟังก์ชันสำหรับเพิ่ม ESP
local function addESP(part)
    -- ตรวจสอบว่า ESP เดิมมีอยู่ไหม ถ้ามีก็ลบทิ้ง
    local existingESP = part:FindFirstChild("ESP")
    if existingESP then
        existingESP:Destroy()
    end

    -- สร้าง ESP ใหม่
    local esp = Instance.new("BillboardGui")
    esp.Name = "ESP"
    esp.Size = UDim2.new(0, 25, 0, 25)
    esp.Adornee = part
    esp.AlwaysOnTop = true -- ตั้งค่า AlwaysOnTop เป็น true

    local textLabel = Instance.new("TextLabel")
    textLabel.Size = UDim2.new(1, 0, 1, 0)
    textLabel.Text = "Key"
    textLabel.TextColor3 = Color3.fromRGB(0, 255, 0) -- สีเขียว
    textLabel.BackgroundTransparency = 1 -- ไม่แสดงพื้นหลัง
    textLabel.Parent = esp

    esp.Parent = part
end

-- สร้างฟังก์ชันสำหรับเพิ่ม Highlight
local function addHighlight(part)
    -- ตรวจสอบว่า Highlight เดิมมีอยู่ไหม ถ้ามีก็ลบทิ้ง
    local existingHighlight = part:FindFirstChild("Highlight")
    if existingHighlight then
        existingHighlight:Destroy()
    end

    -- สร้าง Highlight ใหม่
    local highlight = Instance.new("Highlight")
    highlight.Name = "Highlight"
    highlight.Adornee = part
    highlight.FillColor = Color3.fromRGB(0, 255, 0) -- สีเขียว
    highlight.FillTransparency = 0.5 -- โปร่งใส 50%
    highlight.OutlineColor = Color3.fromRGB(0, 255, 0) -- สีเส้นขอบสีเขียว
    highlight.OutlineTransparency = 0 -- เส้นขอบทึบ

    -- เพิ่ม Highlight ไปยัง part
    highlight.Parent = part
end

-- หยิบ KeyG จาก Workspace
local keyG = workspace.HidingPart.KeyG

-- เรียกใช้ฟังก์ชันเพื่อเพิ่ม ESP และ Highlight ให้กับ KeyG
addESP(keyG)
addHighlight(keyG)
        end  
	})

aTab:AddButton({
	Name = "esp Monster",
	Callback = function()
local enemyEmperorFolders = workspace.LeverPuzzle.Monsters:GetChildren()

-- กำหนดชื่อโฟลเดอร์ที่ต้องการ
local targetFolderNames = {
    "EnemyEmperor", -- แทนที่ด้วยชื่อโฟลเดอร์ที่คุณต้องการ
}

for _, folder in ipairs(enemyEmperorFolders) do
    if folder:IsA("Folder") and table.find(targetFolderNames, folder.Name) then
        for _, model in ipairs(folder:GetChildren()) do
            if model:IsA("Model") then
                -- ลบ Highlights เดิมถ้ามี
                local existingHighlight = model:FindFirstChildOfClass("Highlight")
                if existingHighlight then
                    existingHighlight:Destroy()
                end
                
                -- สร้าง Highlights ใหม่
                local highlight = Instance.new("Highlight")
                highlight.Name = "Highlight"
                highlight.Adornee = model
                highlight.FillColor = Color3.new(1, 0, 0) -- สีแดง
                highlight.FillTransparency = 0.5 -- ความโปร่งใส 50%
                highlight.OutlineColor = Color3.new(1, 0, 0) -- สีเส้นขอบแดง
                highlight.OutlineTransparency = 0 -- ไม่ให้โปร่งใส
                highlight.Parent = model
            end
        end
    end
end

local shizuko = workspace.HidingPart.Shizuko

-- ฟังก์ชันสำหรับเพิ่ม Highlight
local function addHighlight()
    -- ตรวจสอบว่า Shizuko มี Highlight อยู่หรือไม่
    for _, child in pairs(shizuko:GetChildren()) do
        if child:IsA("Highlight") then
            child:Destroy()  -- ลบ Highlight เดิม
        end
    end

    -- สร้าง Highlight ใหม่
    local highlight = Instance.new("Highlight")
    highlight.Parent = shizuko
    highlight.FillColor = Color3.new(1, 0, 0) -- สีแดง
    highlight.FillTransparency = 0.5 -- ความโปร่งใส 50%
    highlight.OutlineColor = Color3.new(1, 0, 0) -- เส้นขอบสีแดง
end

-- เรียกใช้ฟังก์ชัน
addHighlight()
        end  
	})

local Section = aTab:AddSection({
	Name = "Part5"
})

aTab:AddButton({
	Name = "Auto Butterfly Collector",
	Callback = function()
game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(-17.7572784, 7.89684677, -124.63176, -1, 0, 0, 0, 1, 0, 0, 0, -1)
wait()
game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(-16.4260674, 7.9803772, -181.594467, -1, 0, 0, 0, 1, 0, 0, 0, -1)
wait()
local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoidRootPart = character:WaitForChild("HumanoidRootPart")
local collectingBlocksFolder = workspace:WaitForChild("CollectingBlocks")
local camera = game.Workspace.CurrentCamera

-- ฟังก์ชันเพื่อเก็บ ProximityPrompt รอบ ๆ ผู้เล่น
local function collectNearbyPrompts()
    local collectingBlocks = workspace.CollectingBlocks:GetChildren()

    while true do
        for i = 1, math.min(18, #collectingBlocks) do
            local prompt = collectingBlocks[i]:FindFirstChild("ProximityPrompt")
            if prompt then
                prompt.MaxActivationDistance = 15  -- เพิ่มระยะการกดเป็น 15
                prompt.RequiresLineOfSight = false
                -- ตรวจสอบระยะห่างระหว่างผู้เล่นกับ ProximityPrompt
                local distance = (character.HumanoidRootPart.Position - prompt.Parent.Position).Magnitude
                if distance <= prompt.MaxActivationDistance then
                    prompt.HoldDuration = 0  -- ตั้งค่า HoldDuration เป็น 0
                    prompt:InputHoldBegin()  -- เริ่มการเก็บ
                    prompt:InputHoldEnd()    -- ยืนยันการเก็บ
                end
            end
        end
        wait(0.1)  -- ตรวจสอบซ้ำทุก 0.1 วินาที
    end
end

-- ฟังก์ชันเพื่อวาร์ปไปที่ Butterfly ทีละอัน
local function teleportToButterflies()
    while true do
        local hasButterflies = false
        
        for _, butterfly in pairs(collectingBlocksFolder:GetChildren()) do
            if butterfly:IsA("MeshPart") and butterfly.Name == "Butterfly" then
                hasButterflies = true
                -- วาร์ปไปยังตำแหน่งของ Butterfly โดยเพิ่มความสูง 5 หน่วย
                humanoidRootPart.CFrame = butterfly.CFrame + Vector3.new(0, 2, 0)
                
                -- เปลี่ยนมุมกล้องให้หันไปที่พื้น
                camera.CFrame = CFrame.new(humanoidRootPart.Position + Vector3.new(0, 5, 0), humanoidRootPart.Position)

                wait(0.2) -- รอ 1 วินาทีก่อนจะไปที่ตัวถัดไป (สามารถปรับได้)
            end
        end
        
        if not hasButterflies then
            break -- ออกจากลูปถ้าไม่มี Butterfly
        end
    end
end

-- เรียกใช้ทั้งสองฟังก์ชันพร้อมกัน
spawn(collectNearbyPrompts)
spawn(teleportToButterflies)
wait(2.6)
game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(-18.0326385, 3.99999952, -113.275917, 0.99999994, -1.83379605e-08, 0.000248265918, 1.83290396e-08, 1, 3.59377594e-08, -0.000248265918, -3.59332084e-08, 0.99999994)
        end  
	})

aTab:AddButton({
	Name = "Auto collect katana",
	Callback = function()
local katanaItems = workspace.KatanaPlacePuzzle.Items

-- ปรับระยะเวลา HoldDuration ให้เป็น 0
for i = 1, 4 do
    local katana = katanaItems:FindFirstChild("KATANA" .. i)
    if katana then
        local proximityPrompt = katana:FindFirstChildOfClass("ProximityPrompt")
        if proximityPrompt then
            proximityPrompt.HoldDuration = 0  -- ปรับ HoldDuration ให้เป็น 0
        end
    end
end

-- ฟังก์ชันจำลองการกด ProximityPrompt
local function simulateProximityPrompt()
    while true do
        for i = 1, 4 do
            local katana = katanaItems:FindFirstChild("KATANA" .. i)
            if katana then
                local proximityPrompt = katana:FindFirstChildOfClass("ProximityPrompt")
                if proximityPrompt then
                    -- จำลองการเริ่มการกด
                    proximityPrompt:InputHoldBegin()
                    -- จำลองการสิ้นสุดการกด
                    proximityPrompt:InputHoldEnd()
                end
            end
        end
        wait()  -- รอเวลาหลังจากจบลูปก่อนเริ่มใหม่
    end
end

-- ฟังก์ชันการกด ProximityPrompt อย่างต่อเนื่อง
local function continuousProximityPrompt()
    local prompt = workspace.KatanaPlacePuzzle.KatanaTrigger.ProximityPrompt
    prompt.HoldDuration = 0

    while true do
        -- จำลองการกด ProximityPrompt
        prompt:InputHoldBegin()
        prompt:InputHoldEnd()
        wait() -- รอ 1 วิก่อนจะทำใหม่
    end
end

-- ฟังก์ชันวาปไปยังดาบ
local function teleportToKatanas()
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    local camera = workspace.CurrentCamera

    -- รายการตำแหน่งของดาบ
    local katanaList = {
        workspace.KatanaPlacePuzzle.Items.KATANA1,
        workspace.KatanaPlacePuzzle.Items.KATANA2,
        workspace.KatanaPlacePuzzle.Items.KATANA3,
        workspace.KatanaPlacePuzzle.Items.KATANA4
    }

    for _, katana in ipairs(katanaList) do
        -- วาปไปยังตำแหน่งของดาบแต่ละอัน และเพิ่มความสูงในแกน Y ขึ้น 1.5 หน่วย
        local targetPosition = katana.CFrame * CFrame.new(0, 1.5, 0)
        character:SetPrimaryPartCFrame(targetPosition)

        -- ปรับกล้องให้หันลงพื้น
        camera.CFrame = CFrame.new(camera.CFrame.Position, camera.CFrame.Position + Vector3.new(0, -1, 0))

        wait(0.5) -- รอ 1 วินาทีก่อนวาปไปยังดาบถัดไป
    end
end

-- ฟังก์ชันวาปไปยัง KatanaTrigger
local function teleportToKatanaTrigger()
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    local camera = game.Workspace.CurrentCamera

    -- ตรวจสอบว่า KatanaTrigger มีอยู่ใน Workspace หรือไม่
    local katanaTrigger = workspace:FindFirstChild("KatanaPlacePuzzle"):FindFirstChild("KatanaTrigger")

    if katanaTrigger then
        -- ตั้งค่า CFrame ให้กับตัวละครเพื่อวาปไปยัง KatanaTrigger
        local offset = Vector3.new(0, 2, 5)
        character:SetPrimaryPartCFrame(katanaTrigger.CFrame + offset)

        -- ตั้งมุมกล้องให้หันไปหาตำแหน่งของ KatanaTrigger
        camera.CFrame = CFrame.new(camera.CFrame.Position, katanaTrigger.Position)
    else
        warn("ไม่พบ KatanaTrigger ใน Workspace")
    end
end

-- เริ่มทำงานของแต่ละฟังก์ชันใน coroutine
coroutine.wrap(simulateProximityPrompt)()
coroutine.wrap(continuousProximityPrompt)()
coroutine.wrap(teleportToKatanas)()
wait(2.3)
coroutine.wrap(teleportToKatanaTrigger)()
wait(1.5)
game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(-18.0326385, 3.99999952, -113.275917, 0.99999994, -1.83379605e-08, 0.000248265918, 1.83290396e-08, 1, 3.59377594e-08, -0.000248265918, -3.59332084e-08, 0.99999994)
        end  
	})

aTab:AddButton({
	Name = "show code",
	Callback = function()
local Players = game:GetService("Players")

-- ค่าที่เก็บข้อความจาก TextLabel
local paintingNote = workspace.CandlePuzzle.PaintingNote.SurfaceGui.TextLabel
local message = paintingNote.Text

-- สร้าง ScreenGui และ TextLabel ใหม่
local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

local screenGui = Instance.new("ScreenGui")
screenGui.Parent = playerGui

local textLabel = Instance.new("TextLabel")
textLabel.Size = UDim2.new(0, 25, 0, 25) -- ขนาดของ TextLabel
textLabel.Position = UDim2.new(0.5, 0, 0.5, -50) -- ตำแหน่งกลางหน้าจอ
textLabel.Text = message -- กำหนดข้อความจาก TextLabel
textLabel.TextSize = 24 -- ขนาดตัวอักษร
textLabel.BackgroundTransparency = 1 -- ทำให้พื้นหลังโปร่งใส
textLabel.TextColor3 = Color3.new(0, 1, 0) -- สีตัวอักษร (สีขาว)
textLabel.Parent = screenGui

-- ลบ UI หลังจาก 5 วินาที
wait(5)
screenGui:Destroy()
        end  
	})

local Section = aTab:AddSection({
	Name = "ESP"
})

aTab:AddButton({
	Name = "esp item",
	Callback = function()
-- Function to create an ESP box
local function createESPBox(part, size)
    -- Remove existing ESP box if it exists
    if part:FindFirstChild("ESPBox") then
        part.ESPBox:Destroy()
    end

    -- Create a new ESP box
    local box = Instance.new("BoxHandleAdornment")
    box.Name = "ESPBox"
    box.Adornee = part
    box.AlwaysOnTop = true
    box.ZIndex = 10
    box.Size = size -- Vector3.new(x, y, z) ปรับขนาดตามที่ต้องการ
    box.Color3 = Color3.new(0, 1, 0) -- สีเขียว
    box.Transparency = 0.5 -- โปร่งใส 50%
    box.Parent = part
end

-- Get the CollectingBlocks from workspace
local collectingBlocks = workspace:FindFirstChild("CollectingBlocks")

-- Check if CollectingBlocks exists
if collectingBlocks then
    -- Loop through all the children in CollectingBlocks
    for _, child in pairs(collectingBlocks:GetChildren()) do
        -- Check if the child is named "Butterfly"
        if child.Name == "Butterfly" and child:IsA("BasePart") then
            -- Call the function to add the ESP box
            createESPBox(child, Vector3.new(2, 2, 2)) -- ปรับขนาดตามต้องการ
        end
    end
else
    warn("CollectingBlocks not found!")
end

-- ฟังก์ชันสำหรับการสร้าง Highlight ใหม่
local function addHighlight(object)
    -- ลบ Highlight ที่มีอยู่แล้ว (ถ้ามี)
    if object:FindFirstChildOfClass("Highlight") then
        object:FindFirstChildOfClass("Highlight"):Destroy()
    end

    -- สร้าง Highlight ใหม่
    local highlight = Instance.new("Highlight")
    highlight.Parent = object
    highlight.FillColor = Color3.fromRGB(0, 255, 0) -- สีเขียว
    highlight.FillTransparency = 0.5 -- โปร่งใส 50%
    highlight.OutlineColor = Color3.fromRGB(0, 255, 0) -- สีเส้นขอบเขียว
end

-- ฟังก์ชันสำหรับการสร้าง ESP Text ใหม่
local function addESPText(object)
    -- ลบ BillboardGui ที่มีอยู่แล้ว (ถ้ามี)
    if object:FindFirstChildOfClass("BillboardGui") then
        object:FindFirstChildOfClass("BillboardGui"):Destroy()
    end

    -- สร้าง BillboardGui ใหม่
    local billboardGui = Instance.new("BillboardGui")
    billboardGui.Parent = object
    billboardGui.Name = "ESPText"
    billboardGui.Adornee = object
    billboardGui.Size = UDim2.new(0, 25, 0, 25)  -- ขนาดของ GUI
    billboardGui.StudsOffset = Vector3.new(0, 2, 0)  -- ระยะยกขึ้นจากโมเดล
    billboardGui.AlwaysOnTop = true  -- ให้อยู่ด้านบนเสมอ

    -- สร้าง TextLabel สำหรับแสดงชื่อ
    local textLabel = Instance.new("TextLabel")
    textLabel.Parent = billboardGui
    textLabel.Size = UDim2.new(1, 0, 1, 0)  -- ให้กินพื้นที่ทั้งหมดของ BillboardGui
    textLabel.BackgroundTransparency = 1  -- พื้นหลังโปร่งใส
    textLabel.Text = object.Name  -- ชื่อของโมเดล
    textLabel.TextColor3 = Color3.fromRGB(0, 255, 0)  -- สีเขียว
    textLabel.TextScaled = true  -- ปรับขนาดข้อความอัตโนมัติ
end

-- วนลูปผ่าน KATANA1 ถึง KATANA4 และเพิ่มทั้ง Highlight และ ESP Text
for i = 1, 4 do
    local katana = workspace.KatanaPlacePuzzle.Items:FindFirstChild("KATANA"..i)
    if katana then
        addHighlight(katana)
        addESPText(katana)
    end
end

local candles = {
    workspace.CandlePuzzle.Candles.CandleBLACK,
    workspace.CandlePuzzle.Candles.CandleBLUE,
    workspace.CandlePuzzle.Candles.CandleBROWN,
    workspace.CandlePuzzle.Candles.CandleGREEN,
    workspace.CandlePuzzle.Candles.CandlePINK,
    workspace.CandlePuzzle.Candles.CandleRED,
    workspace.CandlePuzzle.Candles.CandleWHITE,
    workspace.CandlePuzzle.Candles.CandleYELLOW
}

for _, candle in ipairs(candles) do
    -- ลบ Highlights เดิมถ้ามีอยู่
    local existingHighlight = candle:FindFirstChildOfClass("Highlight")
    if existingHighlight then
        existingHighlight:Destroy()
    end

    -- สร้าง Highlights ใหม่
    local highlight = Instance.new("Highlight")
    highlight.Adornee = candle
    highlight.OutlineColor = Color3.fromRGB(0, 255, 0) -- เส้นขอบสีเขียว
    highlight.FillColor = Color3.fromRGB(0, 255, 0) -- สีเขียวโปร่งใส
    highlight.FillTransparency = 0.5 -- โปร่งใส 50%
    highlight.Parent = candle

    -- ลบ ESP Text เดิมถ้ามีอยู่
    local existingESP = candle:FindFirstChild("ESPText")
    if existingESP then
        existingESP:Destroy()
    end

    -- สร้าง ESP Text ใหม่
    local espText = Instance.new("BillboardGui")
    espText.Name = "ESPText"
    espText.Size = UDim2.new(0, 25, 0, 25)
    espText.Adornee = candle
    espText.AlwaysOnTop = true
    espText.StudsOffset = Vector3.new(0, 2, 0) -- ปรับความสูงขึ้น (1.5 studs)

    local textLabel = Instance.new("TextLabel")
    textLabel.Size = UDim2.new(1, 0, 1, 0)
    textLabel.BackgroundTransparency = 1
    textLabel.Text = candle.Name:gsub("Candle", "") -- ตัด "Candle" ออก
    textLabel.TextColor3 = Color3.fromRGB(255, 255, 255) -- สีขาว
    textLabel.TextScaled = true
    textLabel.Parent = espText

    espText.Parent = candle
end
        end  
	})

aTab:AddButton({
	Name = "esp Monster",
	Callback = function()
local monsters = workspace.Monsters

for _, model in ipairs(monsters:GetChildren()) do
    if model:IsA("Model") then
        -- ลบ Highlight ที่มีอยู่แล้ว
        local existingHighlight = model:FindFirstChildOfClass("Highlight")
        if existingHighlight then
            existingHighlight:Destroy()
        end
        
        -- สร้าง Highlight ใหม่
        local highlight = Instance.new("Highlight")
        highlight.Parent = model
        highlight.OutlineColor = Color3.fromRGB(255, 0, 0) -- สีแดง
        highlight.FillColor = Color3.fromRGB(255, 0, 0) -- สีแดง
        highlight.FillTransparency = 0.5 -- โปร่งใส 50%
    end
end
        end  
	})

OrionLib:Init()
